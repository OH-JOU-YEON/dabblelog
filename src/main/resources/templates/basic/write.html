<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="UTF-8" xmlns:th="http://www.thymeleaf.org" />
    <title>dabblelog.write</title>

    <!-- TUI 에디터 CSS CDN -->
    <link
      rel="stylesheet"
      href="https://uicdn.toast.com/editor/latest/toastui-editor.min.css"
    />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />

    <link
      rel="stylesheet"
      th:href="@{/css/style.css}"
      href="../../static/css/style.css"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      th:href="@{/css/bootstrap.min.css}"
      href="../../static/css/bootstrap.min.css"
    />
    <style>
      .title::placeholder {
        font-size: 2.2em;
        margin-bottom: 0;
      }
      .tag::placeholder {
        font-size: 1.3em;
      }

      .tagAndTitle {
        margin-left: 1rem;
      }
    </style>
  </head>
  <body>
    <!-- Modal -->

    <form action="#" method="post" class="writeForm" id="postContent">
      <div
        class="modal fade"
        id="staticBackdrop"
        data-bs-backdrop="static"
        data-bs-keyboard="false"
        tabindex="-1"
        aria-labelledby="staticBackdropLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="staticBackdropLabel">시리즈 설정</h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <select th:name="series">
                <option
                  th:each="let : ${seriesList}"
                  th:value="${let}값"
                  th:utext="${let}"
                ></option>
              </select>
            </div>

            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                취소
              </button>
              <button type="submit" form="postContent" class="btn btn-primary">
                출간하기
              </button>
            </div>
          </div>
        </div>
      </div>

      <div class="tagAndTitle">
        <div>
          <label>
            <input
              class="title"
              name="title"
              type="text"
              placeholder="제목을 입력하세요"
              style="outline: none; border: none; height: 66px; width: 433px"
            />
          </label>
        </div>

        <div>
          <label>
            <input
              class="tag"
              id="tag"
              name="tag"
              type="text"
              placeholder="태그를 입력하세요(공백으로 구분됩니다)"
              onkeyup="blue()"
              style="outline: none; border: none; width: 433px; height: 58px"
            />
          </label>
        </div>
      </div>

      <!-- 에디터를 적용할 요소 (컨테이너) -->
      <div id="content"></div>

      <div class="writeMenu">
        <input
          type="submit"
          value="임시저장"
          id="tempSave"
          name="tempSave"
          class="btn btn-primary"
        />
        <button
          type="button"
          class="btn btn-primary"
          data-bs-toggle="modal"
          data-bs-target="#staticBackdrop"
        >
          출간하기
        </button>
      </div>
    </form>

    <div class="writeBack">
      <a href="/">
        <button class="sc-evcjhq gJEhHm">
          <svg
            stroke="currentColor"
            fill="currentColor"
            stroke-width="0"
            viewBox="0 0 24 24"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"
            ></path>
          </svg>
          <span>나가기</span>
        </button>
      </a>
    </div>

    <!-- Button trigger modal -->

    <!-- TUI 에디터 JS CDN -->
    <script src="https://uicdn.toast.com/editor/latest/toastui-editor-all.min.js"></script>
    <script>
      const editor = new toastui.Editor({
        el: document.querySelector("#content"), // 에디터를 적용할 요소 (컨테이너)
        height: "600px", // 에디터 영역의 높이 값 (OOOpx || auto)
        initialEditType: "markdown", // 최초로 보여줄 에디터 타입 (markdown || wysiwyg)
        initialValue: "", // 내용의 초기 값으로, 반드시 마크다운 문자열 형태여야 함
        previewStyle: "vertical",
        placeholder: "내용을 입력해주세요",
        /* start of hooks */
        hooks: {
          addImageBlobHook(blob, callback) {
            // 이미지 업로드 로직 커스텀
            console.log(blob);
            console.log(callback);
          },
        },
      });
    </script>
    <!-- jquery Min JS -->
    <script src="../../static/js/jquery.min.js"></script>
    <!-- jquery Migrate JS -->
    <script src="../../static/js/jquery-migrate-3.0.0.js"></script>
    <!-- jquery Ui JS -->
    <script src="../../static/js/jquery-ui.min.js"></script>
    <script src="../../static/js/main.js" th:src="@{/js/main.js}"></script>

    <!-- Bootstrap JS -->
    <script src="../../static/js/bootstrap.min.js"></script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
